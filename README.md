# JEP Cigar Business System

ä¸€ä¸ªä¸ºé›ªèŒ„ä¼ä¸šå®¶æ‰“é€ çš„é«˜ç«¯æ•°å­—å·¥å…·ç³»ç»Ÿï¼Œæä¾›å®Œæ•´çš„ä¸šåŠ¡ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ“¦ åº“å­˜ç®¡ç†
- é›ªèŒ„å“ç‰Œã€äº§åœ°ã€å¹´ä»½ç®¡ç†
- ä»·æ ¼å†å²å’Œåº“å­˜äº¤æ˜“è®°å½•
- åŒ…è£…ç±»å‹ï¼ˆç›’è£…ã€ç®¡è£…ã€æ•£è£…ï¼‰
- åº“å­˜è­¦æŠ¥å’Œè‡ªåŠ¨è¡¥è´§æé†’

### ğŸ‘¥ å®¢æˆ·å…³ç³»ç®¡ç† (CRM)
- å®¢æˆ·åå¥½è®°å½•å’Œæ•°å­—åç‰‡
- æ¨èå…³ç³»è¿½è¸ª
- å®¢æˆ·åˆ†å±‚ç®¡ç†
- ä¸ªæ€§åŒ–æœåŠ¡è®°å½•

### ğŸ¯ æ¨èç³»ç»Ÿ
- ä¸ªæ€§åŒ–æ¨èé“¾æ¥ç”Ÿæˆ
- æ¨èå¥–åŠ±ç§¯åˆ†ç³»ç»Ÿ
- è½¬æ¢ç‡è¿½è¸ªå’Œåˆ†æ
- æ¨èå…³ç³»é“¾ç®¡ç†

### ğŸ® æ¸¸æˆåŒ–åŠŸèƒ½
- å¹¸è¿è½¬ç›˜æŠ½å¥–ç³»ç»Ÿ
- ä¼šå‘˜ç­‰çº§ä½“ç³»ï¼ˆSilver/Gold/Platinum/Royalï¼‰
- ç§¯åˆ†å¥–åŠ±å’Œå…‘æ¢æœºåˆ¶
- å¾½ç« å’Œæˆå°±ç³»ç»Ÿ

### ğŸ ç¤¼å“å®šåˆ¶æ¨¡å—
- ä¸ªæ€§åŒ–åŒ…è£…å’Œè´ºå¡
- æ™ºèƒ½ç¤¼å“æ¨è
- é…é€è·Ÿè¸ªç®¡ç†
- èŠ‚æ—¥å’Œåœºåˆå®šåˆ¶

### ğŸ“… æ´»åŠ¨ç®¡ç†
- RSVPåœ¨çº¿æŠ¥åç³»ç»Ÿ
- äºŒç»´ç ç­¾åˆ°/ç­¾é€€
- ç½‘ç»œè¿æ¥è¿½è¸ª
- æ´»åŠ¨å‚ä¸åº¦åˆ†æ

### ğŸª ç§¯åˆ†å•†åŸ
- ç§¯åˆ†èµšå–å’Œæ¶ˆè´¹è®°å½•
- é…ä»¶å’Œä½“éªŒå…‘æ¢
- è½¬ç›˜æœºä¼šè´­ä¹°
- ç§¯åˆ†æœ‰æ•ˆæœŸç®¡ç†

### ğŸ“ é›ªèŒ„å­¦é™¢
- åœ¨çº¿å­¦ä¹ è¯¾ç¨‹
- å¾½ç« å’Œè¯ä¹¦ç³»ç»Ÿ
- å­¦ä¹ è¿›åº¦è¿½è¸ª
- çŸ¥è¯†åº“ç®¡ç†

### ğŸ¤– AIæ¨èå¼•æ“
- åŸºäºå†å²çš„æ™ºèƒ½æ¨è
- å•†åŠ¡vsä¸ªäººéœ€æ±‚åŒºåˆ†
- æ¨èå‡†ç¡®ç‡åˆ†æ
- æŒç»­å­¦ä¹ ä¼˜åŒ–

### ğŸ“Š è´¢åŠ¡åˆ†æ
- é”€å”®æ•°æ®å¯è§†åŒ–
- å‘ç¥¨è‡ªåŠ¨ç”Ÿæˆ
- è´¢åŠ¡æŠ¥è¡¨å¯¼å‡º
- å®¢æˆ·æ¶ˆè´¹åˆ†æ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React 18 + TypeScript + Vite
- **UIåº“**: Ant Design 5.x (ä¸­æ–‡å›½é™…åŒ–)
- **çŠ¶æ€ç®¡ç†**: Zustand + React Query
- **è·¯ç”±**: React Router v6
- **åç«¯**: Firebase (Auth + Firestore)
- **éƒ¨ç½²**: Netlify
- **æ„å»ºå·¥å…·**: Vite + TypeScript
- **æ ·å¼**: Tailwind CSS

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/          # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ Layout/         # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ Auth/           # è®¤è¯ç»„ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Dashboard/      # ä»ªè¡¨æ¿
â”‚   â”œâ”€â”€ Inventory/      # åº“å­˜ç®¡ç†
â”‚   â”œâ”€â”€ Customer/       # å®¢æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ Event/          # æ´»åŠ¨ç®¡ç†
â”‚   â”œâ”€â”€ Gamification/   # æ¸¸æˆåŒ–åŠŸèƒ½
â”‚   â”œâ”€â”€ Gifting/        # ç¤¼å“å®šåˆ¶
â”‚   â”œâ”€â”€ Academy/        # é›ªèŒ„å­¦é™¢
â”‚   â”œâ”€â”€ Analytics/      # åˆ†ææŠ¥å‘Š
â”‚   â””â”€â”€ ...
â”œâ”€â”€ stores/             # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ authStore.ts    # è®¤è¯çŠ¶æ€
â”‚   â”œâ”€â”€ inventoryStore.ts # åº“å­˜çŠ¶æ€
â”‚   â”œâ”€â”€ customerStore.ts  # å®¢æˆ·çŠ¶æ€
â”‚   â””â”€â”€ ...
â”œâ”€â”€ services/           # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ firebaseService.ts # FirebaseæœåŠ¡
â”‚   â””â”€â”€ ...
â”œâ”€â”€ types/              # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â””â”€â”€ assets/             # é™æ€èµ„æº
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- npm >= 9.0.0

### å®‰è£…ä¾èµ–
```bash
npm install
```

### ç¯å¢ƒé…ç½®
1. å¤åˆ¶ `.env.example` ä¸º `.env.local`
2. é…ç½®Firebaseé¡¹ç›®ä¿¡æ¯
3. æ›´æ–°Firebaseé…ç½®

### å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

è®¿é—® http://localhost:3000

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
```bash
npm run preview
```

## ğŸ”§ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- ä½¿ç”¨TypeScriptè¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ªESLintå’ŒPrettieré…ç½®
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶å’ŒHooks
- çŠ¶æ€ç®¡ç†ä½¿ç”¨Zustand

### æäº¤è§„èŒƒ
```bash
# åŠŸèƒ½å¼€å‘
git commit -m "feat: æ·»åŠ åº“å­˜ç®¡ç†åŠŸèƒ½"

# é—®é¢˜ä¿®å¤
git commit -m "fix: ä¿®å¤å®¢æˆ·æœç´¢é—®é¢˜"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs: æ›´æ–°READMEæ–‡æ¡£"
```

### æµ‹è¯•
```bash
# è¿è¡Œæµ‹è¯•
npm run test

# æµ‹è¯•è¦†ç›–ç‡
npm run test:coverage
```

## ğŸ“± éƒ¨ç½²

### Netlifyéƒ¨ç½²
1. è¿æ¥GitHubä»“åº“åˆ°Netlify
2. é…ç½®æ„å»ºå‘½ä»¤: `npm run build`
3. é…ç½®å‘å¸ƒç›®å½•: `dist`
4. è®¾ç½®ç¯å¢ƒå˜é‡

### ç¯å¢ƒå˜é‡
```env
VITE_FIREBASE_API_KEY=your_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_auth_domain
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_storage_bucket
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id
```

## ğŸ” Firebaseé…ç½®

### Firestoreæ•°æ®åº“
ç³»ç»Ÿç°åœ¨ä½¿ç”¨Firestoreä½œä¸ºä¸»è¦æ•°æ®å­˜å‚¨ï¼ŒåŒ…æ‹¬ï¼š

#### ç”¨æˆ·æ•°æ®å­˜å‚¨
- **Firebase Authentication**: åŸºç¡€è®¤è¯ä¿¡æ¯ï¼ˆé‚®ç®±ã€å¯†ç ï¼‰
- **Firestore `users` é›†åˆ**: æ‰©å±•ç”¨æˆ·ä¿¡æ¯ï¼ˆè§’è‰²ã€æƒé™ã€ä¸ªäººèµ„æ–™ï¼‰
- **Firestore `userProfiles` é›†åˆ**: è¯¦ç»†ç”¨æˆ·é…ç½®æ–‡ä»¶

#### æ•°æ®é›†åˆç»“æ„
```
users/
â”œâ”€â”€ {userId}/
â”‚   â”œâ”€â”€ firebaseUid: string
â”‚   â”œâ”€â”€ email: string
â”‚   â”œâ”€â”€ displayName: string
â”‚   â”œâ”€â”€ role: 'admin' | 'manager' | 'staff'
â”‚   â”œâ”€â”€ permissions: string[]
â”‚   â”œâ”€â”€ isActive: boolean
â”‚   â””â”€â”€ lastLogin: timestamp

userProfiles/
â”œâ”€â”€ {profileId}/
â”‚   â”œâ”€â”€ userId: string (references users.id)
â”‚   â”œâ”€â”€ firstName: string
â”‚   â”œâ”€â”€ lastName: string
â”‚   â”œâ”€â”€ phone: string
â”‚   â”œâ”€â”€ preferences: object
â”‚   â”œâ”€â”€ notifications: object
â”‚   â””â”€â”€ timezone: string
```

### Firestoreå®‰å…¨è§„åˆ™
å®Œæ•´çš„Firestoreå®‰å…¨è§„åˆ™å·²é…ç½®åœ¨ `firestore.rules` æ–‡ä»¶ä¸­ï¼ŒåŒ…æ‹¬ï¼š
- ç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ®
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆadmin/manager/staffï¼‰
- æƒé™éªŒè¯æœºåˆ¶
- æ•°æ®å®Œæ•´æ€§ä¿æŠ¤

### è®¤è¯é…ç½®
- å¯ç”¨é‚®ç®±/å¯†ç è®¤è¯
- é…ç½®ç”¨æˆ·è§’è‰²æƒé™ç³»ç»Ÿ
- è®¾ç½®å¯†ç å¼ºåº¦ç­–ç•¥
- é›†æˆFirestoreç”¨æˆ·èµ„æ–™ç®¡ç†

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒé›†åˆ
- `cigars` - é›ªèŒ„ä¿¡æ¯
- `customers` - å®¢æˆ·ä¿¡æ¯
- `events` - æ´»åŠ¨ä¿¡æ¯
- `sales` - é”€å”®è®°å½•
- `referrals` - æ¨èè®°å½•
- `pointsTransactions` - ç§¯åˆ†äº¤æ˜“
- `loyaltyTiers` - ä¼šå‘˜ç­‰çº§

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®é“¾æ¥: [https://github.com/wloong8278-prog/jepcigar](https://github.com/wloong8278-prog/jepcigar)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/wloong8278-prog/jepcigar/issues)

## ğŸ™ è‡´è°¢

- [React](https://reactjs.org/) - ç”¨æˆ·ç•Œé¢åº“
- [Ant Design](https://ant.design/) - UIç»„ä»¶åº“
- [Firebase](https://firebase.google.com/) - åç«¯æœåŠ¡
- [Vite](https://vitejs.dev/) - æ„å»ºå·¥å…·
- [Netlify](https://www.netlify.com/) - éƒ¨ç½²å¹³å°
